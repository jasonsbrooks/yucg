// Camera slideshow v1.3.3 - a jQuery slideshow with many effects, transitions, easy to customize, using canvas and mobile ready, based on jQuery 1.4+
// Copyright (c) 2012 by Manuel Masia - www.pixedelic.com
// Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
(function(a){a.fn.camera=function(b,c){function d(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)){return true}}function e(){var b=a(z).width();a("li",z).removeClass("camera_visThumb");a("li",z).each(function(){var c=a(this).position(),d=a("ul",z).outerWidth(),e=a("ul",z).offset().left,f=a("> div",z).offset().left,g=f-e;if(g>0){a(".camera_prevThumbs",$).removeClass("hideNav")}else{a(".camera_prevThumbs",$).addClass("hideNav")}if(d-g>b){a(".camera_nextThumbs",$).removeClass("hideNav")}else{a(".camera_nextThumbs",$).addClass("hideNav")}var h=c.left,i=c.left+a(this).width();if(i-g<=b&&h-g>=0){a(this).addClass("camera_visThumb")}})}function f(){function c(){A=m.width();if(b.height.indexOf("%")!=-1){var c=Math.round(A/(100/parseFloat(b.height)));if(b.minHeight!=""&&c<parseFloat(b.minHeight)){B=parseFloat(b.minHeight)}else{B=c}m.css({height:B})}else if(b.height=="auto"){B=m.height()}else{B=parseFloat(b.height);m.css({height:B})}a(".camerarelative",r).css({width:A,height:B});a(".imgLoaded",r).each(function(){var c=a(this),d=c.attr("width"),e=c.attr("height"),f=c.index(),g,h,i=c.attr("data-alignment"),j=c.attr("data-portrait");if(typeof i==="undefined"||i===false||i===""){i=b.alignment}if(typeof j==="undefined"||j===false||j===""){j=b.portrait}if(j==false||j=="false"){if(d/e<A/B){var k=A/d;var l=Math.abs(B-e*k)*.5;switch(i){case"topLeft":g=0;break;case"topCenter":g=0;break;case"topRight":g=0;break;case"centerLeft":g="-"+l+"px";break;case"center":g="-"+l+"px";break;case"centerRight":g="-"+l+"px";break;case"bottomLeft":g="-"+l*2+"px";break;case"bottomCenter":g="-"+l*2+"px";break;case"bottomRight":g="-"+l*2+"px";break}c.css({height:e*k,"margin-left":0,"margin-top":g,position:"absolute",visibility:"visible",width:A})}else{var k=B/e;var l=Math.abs(A-d*k)*.5;switch(i){case"topLeft":h=0;break;case"topCenter":h="-"+l+"px";break;case"topRight":h="-"+l*2+"px";break;case"centerLeft":h=0;break;case"center":h="-"+l+"px";break;case"centerRight":h="-"+l*2+"px";break;case"bottomLeft":h=0;break;case"bottomCenter":h="-"+l+"px";break;case"bottomRight":h="-"+l*2+"px";break}c.css({height:B,"margin-left":h,"margin-top":0,position:"absolute",visibility:"visible",width:d*k})}}else{if(d/e<A/B){var k=B/e;var l=Math.abs(A-d*k)*.5;switch(i){case"topLeft":h=0;break;case"topCenter":h=l+"px";break;case"topRight":h=l*2+"px";break;case"centerLeft":h=0;break;case"center":h=l+"px";break;case"centerRight":h=l*2+"px";break;case"bottomLeft":h=0;break;case"bottomCenter":h=l+"px";break;case"bottomRight":h=l*2+"px";break}c.css({height:B,"margin-left":h,"margin-top":0,position:"absolute",visibility:"visible",width:d*k})}else{var k=A/d;var l=Math.abs(B-e*k)*.5;switch(i){case"topLeft":g=0;break;case"topCenter":g=0;break;case"topRight":g=0;break;case"centerLeft":g=l+"px";break;case"center":g=l+"px";break;case"centerRight":g=l+"px";break;case"bottomLeft":g=l*2+"px";break;case"bottomCenter":g=l*2+"px";break;case"bottomRight":g=l*2+"px";break}c.css({height:e*k,"margin-left":0,"margin-top":g,position:"absolute",visibility:"visible",width:A})}}})}var d;if(O==true){clearTimeout(d);d=setTimeout(c,200)}else{c()}O=true}function g(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}function h(a){return Math.ceil(a)==Math.floor(a)}function i(){if(a(z).length&&!a(y).length){var b=a(z).outerWidth(),c=a("ul > li",z).outerWidth(),d=a("li.cameracurrent",z).length?a("li.cameracurrent",z).position():"",f=a("ul > li",z).length*a("ul > li",z).outerWidth(),g=a("ul",z).offset().left,h=a("> div",z).offset().left,i;if(g<0){i="-"+(h-g)}else{i=h-g}if(ib==true){a("ul",z).width(a("ul > li",z).length*a("ul > li",z).outerWidth());if(a(z).length&&!a(y).lenght){m.css({marginBottom:a(z).outerHeight()})}e();a("ul",z).width(a("ul > li",z).length*a("ul > li",z).outerWidth());if(a(z).length&&!a(y).lenght){m.css({marginBottom:a(z).outerHeight()})}}ib=false;var j=a("li.cameracurrent",z).length?d.left:"",k=a("li.cameracurrent",z).length?d.left+a("li.cameracurrent",z).outerWidth():"";if(j<a("li.cameracurrent",z).outerWidth()){j=0}if(k-i>b){if(j+b<f){a("ul",z).animate({"margin-left":"-"+j+"px"},500,e)}else{a("ul",z).animate({"margin-left":"-"+(a("ul",z).outerWidth()-b)+"px"},500,e)}}else if(j-i<0){a("ul",z).animate({"margin-left":"-"+j+"px"},500,e)}else{a("ul",z).css({"margin-left":"auto","margin-right":"auto"});setTimeout(e,100)}}}function j(){db=0;var c=a(".camera_bar_cont",$).width(),d=a(".camera_bar_cont",$).height();if(o!="pie"){switch(Z){case"leftToRight":a("#"+p).css({right:c});break;case"rightToLeft":a("#"+p).css({left:c});break;case"topToBottom":a("#"+p).css({bottom:d});break;case"bottomToTop":a("#"+p).css({top:d});break}}else{fb.clearRect(0,0,b.pieDiameter,b.pieDiameter)}}function k(c){q.addClass("camerasliding");W=false;var e=parseFloat(a("div.cameraSlide.cameracurrent",r).index());if(c>0){var h=c-1}else if(e==I-1){var h=0}else{var h=e+1}var l=a(".cameraSlide:eq("+h+")",r);var s=a(".cameraSlide:eq("+(h+1)+")",r).addClass("cameranext");if(e!=h+1){s.hide()}a(".cameraContent",n).fadeOut(600);a(".caption-type1, .caption-type2, .caption-type3, .caption-type4",n).show();a(".camerarelative",l).append(a("> div ",q).eq(h).find("> div.camera_effected"));a(".camera_target_content .cameraContent:eq("+h+")",m).append(a("> div ",q).eq(h).find("> div"));if(!a(".imgLoaded",l).length){var t=C[h];var u=new Image;u.src=t+"?"+(new Date).getTime();l.css("visibility","hidden");l.prepend(a(u).attr("class","imgLoaded").css("visibility","hidden"));var v,w;if(!a(u).get(0).complete||v=="0"||w=="0"||typeof v==="undefined"||v===false||typeof w==="undefined"||w===false){a(".camera_loader",m).delay(500).fadeIn(400);u.onload=function(){v=u.naturalWidth;w=u.naturalHeight;a(u).attr("data-alignment",G[h]).attr("data-portrait",F[h]);a(u).attr("width",v);a(u).attr("height",w);r.find(".cameraSlide_"+h).hide().css("visibility","visible");f();k(h+1)}}}else{if(C.length>h+1&&!a(".imgLoaded",s).length){var x=C[h+1];var D=new Image;D.src=x+"?"+(new Date).getTime();s.prepend(a(D).attr("class","imgLoaded").css("visibility","hidden"));D.onload=function(){v=D.naturalWidth;w=D.naturalHeight;a(D).attr("data-alignment",G[h+1]).attr("data-portrait",F[h+1]);a(D).attr("width",v);a(D).attr("height",w);f()}}b.onLoaded.call(this);if(a(".camera_loader",m).is(":visible")){a(".camera_loader",m).fadeOut(400)}else{a(".camera_loader",m).css({visibility:"hidden"});a(".camera_loader",m).fadeOut(400,function(){a(".camera_loader",m).css({visibility:"visible"})})}var E=b.rows,H=b.cols,J=1,K=0,M,N,O,P,S,T=new Array("simpleFade","curtainTopLeft","curtainTopRight","curtainBottomLeft","curtainBottomRight","curtainSliceLeft","curtainSliceRight","blindCurtainTopLeft","blindCurtainTopRight","blindCurtainBottomLeft","blindCurtainBottomRight","blindCurtainSliceBottom","blindCurtainSliceTop","stampede","mosaic","mosaicReverse","mosaicRandom","mosaicSpiral","mosaicSpiralReverse","topLeftBottomRight","bottomRightTopLeft","bottomLeftTopRight","topRightBottomLeft","scrollLeft","scrollRight","scrollTop","scrollBottom","scrollHorz");marginLeft=0,marginTop=0,opacityOnGrid=0;if(b.opacityOnGrid==true){opacityOnGrid=0}else{opacityOnGrid=1}var U=a(" > div",q).eq(h).attr("data-fx");if(d()&&b.mobileFx!=""&&b.mobileFx!="default"){P=b.mobileFx}else{if(typeof U!=="undefined"&&U!==false&&U!=="default"){P=U}else{P=b.fx}}if(P=="random"){P=g(T);P=P[0]}else{P=P;if(P.indexOf(",")>0){P=P.replace(/ /g,"");P=P.split(",");P=g(P);P=P[0]}}dataEasing=a(" > div",q).eq(h).attr("data-easing");mobileEasing=a(" > div",q).eq(h).attr("data-mobileEasing");if(d()&&b.mobileEasing!=""&&b.mobileEasing!="default"){if(typeof mobileEasing!=="undefined"&&mobileEasing!==false&&mobileEasing!=="default"){S=mobileEasing}else{S=b.mobileEasing}}else{if(typeof dataEasing!=="undefined"&&dataEasing!==false&&dataEasing!=="default"){S=dataEasing}else{S=b.easing}}M=a(" > div",q).eq(h).attr("data-slideOn");if(typeof M!=="undefined"&&M!==false){V=M}else{if(b.slideOn=="random"){var V=new Array("next","prev");V=g(V);V=V[0]}else{V=b.slideOn}}var Y=a(" > div",q).eq(h).attr("data-time");if(typeof Y!=="undefined"&&Y!==false&&Y!==""){N=parseFloat(Y)}else{N=b.time}var ab=a(" > div",q).eq(h).attr("data-transPeriod");if(typeof ab!=="undefined"&&ab!==false&&ab!==""){O=parseFloat(ab)}else{O=b.transPeriod}if(!a(q).hasClass("camerastarted")){P="simpleFade";V="next";S="";O=400;a(q).addClass("camerastarted")}switch(P){case"simpleFade":H=1;E=1;break;case"curtainTopLeft":if(b.slicedCols==0){H=b.cols}else{H=b.slicedCols}E=1;break;case"curtainTopRight":if(b.slicedCols==0){H=b.cols}else{H=b.slicedCols}E=1;break;case"curtainBottomLeft":if(b.slicedCols==0){H=b.cols}else{H=b.slicedCols}E=1;break;case"curtainBottomRight":if(b.slicedCols==0){H=b.cols}else{H=b.slicedCols}E=1;break;case"curtainSliceLeft":if(b.slicedCols==0){H=b.cols}else{H=b.slicedCols}E=1;break;case"curtainSliceRight":if(b.slicedCols==0){H=b.cols}else{H=b.slicedCols}E=1;break;case"blindCurtainTopLeft":if(b.slicedRows==0){E=b.rows}else{E=b.slicedRows}H=1;break;case"blindCurtainTopRight":if(b.slicedRows==0){E=b.rows}else{E=b.slicedRows}H=1;break;case"blindCurtainBottomLeft":if(b.slicedRows==0){E=b.rows}else{E=b.slicedRows}H=1;break;case"blindCurtainBottomRight":if(b.slicedRows==0){E=b.rows}else{E=b.slicedRows}H=1;break;case"blindCurtainSliceTop":if(b.slicedRows==0){E=b.rows}else{E=b.slicedRows}H=1;break;case"blindCurtainSliceBottom":if(b.slicedRows==0){E=b.rows}else{E=b.slicedRows}H=1;break;case"stampede":K="-"+O;break;case"mosaic":K=b.gridDifference;break;case"mosaicReverse":K=b.gridDifference;break;case"mosaicRandom":break;case"mosaicSpiral":K=b.gridDifference;J=1.7;break;case"mosaicSpiralReverse":K=b.gridDifference;J=1.7;break;case"topLeftBottomRight":K=b.gridDifference;J=6;break;case"bottomRightTopLeft":K=b.gridDifference;J=6;break;case"bottomLeftTopRight":K=b.gridDifference;J=6;break;case"topRightBottomLeft":K=b.gridDifference;J=6;break;case"scrollLeft":H=1;E=1;break;case"scrollRight":H=1;E=1;break;case"scrollTop":H=1;E=1;break;case"scrollBottom":H=1;E=1;break;case"scrollHorz":H=1;E=1;break}var bb=0;var cb=E*H;var gb=A-Math.floor(A/H)*H;var hb=B-Math.floor(B/E)*E;var ib;var kb;var lb=0;var mb=0;var nb=new Array;var ob=new Array;var pb=new Array;while(bb<cb){nb.push(bb);ob.push(bb);L.append('<div class="cameraappended" style="display:none; overflow:hidden; position:absolute; z-index:1000" />');var qb=a(".cameraappended:eq("+bb+")",r);if(P=="scrollLeft"||P=="scrollRight"||P=="scrollTop"||P=="scrollBottom"||P=="scrollHorz"){X.eq(h).clone().show().appendTo(qb)}else{if(V=="next"){X.eq(h).clone().show().appendTo(qb)}else{X.eq(e).clone().show().appendTo(qb)}}if(bb%H<gb){ib=1}else{ib=0}if(bb%H==0){lb=0}if(Math.floor(bb/H)<hb){kb=1}else{kb=0}qb.css({height:Math.floor(B/E+kb+1),left:lb,top:mb,width:Math.floor(A/H+ib+1)});a("> .cameraSlide",qb).css({height:B,"margin-left":"-"+lb+"px","margin-top":"-"+mb+"px",width:A});lb=lb+qb.width()-1;if(bb%H==H-1){mb=mb+qb.height()-1}bb++}switch(P){case"curtainTopLeft":break;case"curtainBottomLeft":break;case"curtainSliceLeft":break;case"curtainTopRight":nb=nb.reverse();break;case"curtainBottomRight":nb=nb.reverse();break;case"curtainSliceRight":nb=nb.reverse();break;case"blindCurtainTopLeft":break;case"blindCurtainBottomLeft":nb=nb.reverse();break;case"blindCurtainSliceTop":break;case"blindCurtainTopRight":break;case"blindCurtainBottomRight":nb=nb.reverse();break;case"blindCurtainSliceBottom":nb=nb.reverse();break;case"stampede":nb=g(nb);break;case"mosaic":break;case"mosaicReverse":nb=nb.reverse();break;case"mosaicRandom":nb=g(nb);break;case"mosaicSpiral":var rb=E/2,sb,tb,ub,vb=0;for(ub=0;ub<rb;ub++){tb=ub;for(sb=ub;sb<H-ub-1;sb++){pb[vb++]=tb*H+sb}sb=H-ub-1;for(tb=ub;tb<E-ub-1;tb++){pb[vb++]=tb*H+sb}tb=E-ub-1;for(sb=H-ub-1;sb>ub;sb--){pb[vb++]=tb*H+sb}sb=ub;for(tb=E-ub-1;tb>ub;tb--){pb[vb++]=tb*H+sb}}nb=pb;break;case"mosaicSpiralReverse":var rb=E/2,sb,tb,ub,vb=cb-1;for(ub=0;ub<rb;ub++){tb=ub;for(sb=ub;sb<H-ub-1;sb++){pb[vb--]=tb*H+sb}sb=H-ub-1;for(tb=ub;tb<E-ub-1;tb++){pb[vb--]=tb*H+sb}tb=E-ub-1;for(sb=H-ub-1;sb>ub;sb--){pb[vb--]=tb*H+sb}sb=ub;for(tb=E-ub-1;tb>ub;tb--){pb[vb--]=tb*H+sb}}nb=pb;break;case"topLeftBottomRight":for(var tb=0;tb<E;tb++)for(var sb=0;sb<H;sb++){pb.push(sb+tb)}ob=pb;break;case"bottomRightTopLeft":for(var tb=0;tb<E;tb++)for(var sb=0;sb<H;sb++){pb.push(sb+tb)}ob=pb.reverse();break;case"bottomLeftTopRight":for(var tb=E;tb>0;tb--)for(var sb=0;sb<H;sb++){pb.push(sb+tb)}ob=pb;break;case"topRightBottomLeft":for(var tb=0;tb<E;tb++)for(var sb=H;sb>0;sb--){pb.push(sb+tb)}ob=pb;break}a.each(nb,function(c,d){function f(){a(this).addClass("cameraeased");if(a(".cameraeased",r).length>=0){a(z).css({visibility:"visible"})}if(a(".cameraeased",r).length==cb){i();a(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",n).each(function(){a(this).css("visibility","hidden")});X.eq(h).show().css("z-index","999").removeClass("cameranext").addClass("cameracurrent");X.eq(e).css("z-index","1").removeClass("cameracurrent");a(".cameraContent",n).eq(h).addClass("cameracurrent");if(e>=0){a(".cameraContent",n).eq(e).removeClass("cameracurrent")}b.onEndTransition.call(this);if(a("> div",q).eq(h).attr("data-video")!="hide"&&a(".cameraContent.cameracurrent .imgFake",n).length){a(".cameraContent.cameracurrent .imgFake",n).click()}var c=X.eq(h).find(".fadeIn").length;var d=a(".cameraContent",n).eq(h).find(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom").length;if(c!=0){a(".cameraSlide.cameracurrent .fadeIn",n).each(function(){if(a(this).attr("data-easing")!=""){var b=a(this).attr("data-easing")}else{var b=S}var d=a(this);if(typeof d.attr("data-outerWidth")==="undefined"||d.attr("data-outerWidth")===false||d.attr("data-outerWidth")===""){var e=d.outerWidth();d.attr("data-outerWidth",e)}else{var e=d.attr("data-outerWidth")}if(typeof d.attr("data-outerHeight")==="undefined"||d.attr("data-outerHeight")===false||d.attr("data-outerHeight")===""){var f=d.outerHeight();d.attr("data-outerHeight",f)}else{var f=d.attr("data-outerHeight")}var g=d.position();var h=g.left;var i=g.top;var j=d.attr("class");var k=d.index();var l=d.parents(".camerarelative").outerHeight();var m=d.parents(".camerarelative").outerWidth();if(j.indexOf("fadeIn")!=-1){d.animate({opacity:0},0).css("visibility","visible").delay(N/c*.1*(k-1)).animate({opacity:1},N/c*.15,b)}else{d.css("visibility","visible")}})}a(".cameraContent.cameracurrent",n).show();if(d!=0){a(".cameraContent.cameracurrent .moveFromLeft, .cameraContent.cameracurrent .moveFromRight, .cameraContent.cameracurrent .moveFromTop, .cameraContent.cameracurrent .moveFromBottom, .cameraContent.cameracurrent .fadeIn, .cameraContent.cameracurrent .fadeFromLeft, .cameraContent.cameracurrent .fadeFromRight, .cameraContent.cameracurrent .fadeFromTop, .cameraContent.cameracurrent .fadeFromBottom",n).each(function(){if(a(this).attr("data-easing")!=""){var b=a(this).attr("data-easing")}else{var b=S}var c=a(this);var e=c.position();var f=e.left;var g=e.top;var h=c.attr("class");var i=c.index();var j=c.outerHeight();if(h.indexOf("moveFromLeft")!=-1){c.css({left:"-"+A+"px",right:"auto"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({left:e.left},N/d*.15,b)}else if(h.indexOf("moveFromRight")!=-1){c.css({left:A+"px",right:"auto"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({left:e.left},N/d*.15,b)}else if(h.indexOf("moveFromTop")!=-1){c.css({top:"-"+B+"px",bottom:"auto"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({top:e.top},N/d*.15,b,function(){c.css({top:"auto",bottom:0})})}else if(h.indexOf("moveFromBottom")!=-1){c.css({top:B+"px",bottom:"auto"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({top:e.top},N/d*.15,b)}else if(h.indexOf("fadeFromLeft")!=-1){c.animate({opacity:0},0).css({left:"-"+A+"px",right:"auto"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({left:e.left,opacity:1},N/d*.15,b)}else if(h.indexOf("fadeFromRight")!=-1){c.animate({opacity:0},0).css({left:A+"px",right:"auto"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({left:e.left,opacity:1},N/d*.15,b)}else if(h.indexOf("fadeFromTop")!=-1){c.animate({opacity:0},0).css({top:"-"+B+"px",bottom:"auto"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({top:e.top,opacity:1},N/d*.15,b,function(){c.css({top:"auto",bottom:0})})}else if(h.indexOf("fadeFromBottom")!=-1){c.animate({opacity:0},0).css({bottom:"-"+j+"px"});c.css("visibility","visible").delay(N/d*.1*(i-1)).animate({bottom:"0",opacity:1},N/d*.15,b)}else if(h.indexOf("fadeIn")!=-1){c.animate({opacity:0},0).css("visibility","visible").delay(N/d*.1*(i-1)).animate({opacity:1},N/d*.15,b)}else{c.css("visibility","visible")}})}a(".cameraappended",r).remove();q.removeClass("camerasliding");X.eq(e).hide();var f=a(".camera_bar_cont",$).width(),g=a(".camera_bar_cont",$).height(),m;if(o!="pie"){m=.05}else{m=.005}a("#"+p).animate({opacity:b.loaderOpacity},200);Q=setInterval(function(){if(q.hasClass("stopped")){clearInterval(Q)}if(o!="pie"){if(db<=1.002&&!q.hasClass("stopped")&&!q.hasClass("paused")&&!q.hasClass("hovered")){db=db+m}else if(db<=1&&(q.hasClass("stopped")||q.hasClass("paused")||q.hasClass("stopped")||q.hasClass("hovered"))){db=db}else{if(!q.hasClass("stopped")&&!q.hasClass("paused")&&!q.hasClass("hovered")){clearInterval(Q);_();a("#"+p).animate({opacity:0},200,function(){clearTimeout(R);R=setTimeout(j,l);k();b.onStartLoading.call(this)})}}switch(Z){case"leftToRight":a("#"+p).animate({right:f-f*db},N*m,"linear");break;case"rightToLeft":a("#"+p).animate({left:f-f*db},N*m,"linear");break;case"topToBottom":a("#"+p).animate({bottom:g-g*db},N*m,"linear");break;case"bottomToTop":a("#"+p).animate({bottom:g-g*db},N*m,"linear");break}}else{eb=db;fb.clearRect(0,0,b.pieDiameter,b.pieDiameter);fb.globalCompositeOperation="destination-over";fb.beginPath();fb.arc(b.pieDiameter/2,b.pieDiameter/2,b.pieDiameter/2-b.loaderStroke,0,Math.PI*2,false);fb.lineWidth=b.loaderStroke;fb.strokeStyle=b.loaderBgColor;fb.stroke();fb.closePath();fb.globalCompositeOperation="source-over";fb.beginPath();fb.arc(b.pieDiameter/2,b.pieDiameter/2,b.pieDiameter/2-b.loaderStroke,0,Math.PI*2*eb,false);fb.lineWidth=b.loaderStroke-b.loaderPadding*2;fb.strokeStyle=b.loaderColor;fb.stroke();fb.closePath();if(db<=1.002&&!q.hasClass("stopped")&&!q.hasClass("paused")&&!q.hasClass("hovered")){db=db+m}else if(db<=1&&(q.hasClass("stopped")||q.hasClass("paused")||q.hasClass("hovered"))){db=db}else{if(!q.hasClass("stopped")&&!q.hasClass("paused")&&!q.hasClass("hovered")){clearInterval(Q);_();a("#"+p+", .camera_canvas_wrap",$).animate({opacity:0},200,function(){clearTimeout(R);R=setTimeout(j,l);k();b.onStartLoading.call(this)})}}}},N*m)}}if(d%H<gb){ib=1}else{ib=0}if(d%H==0){lb=0}if(Math.floor(d/H)<hb){kb=1}else{kb=0}switch(P){case"simpleFade":height=B;width=A;opacityOnGrid=0;break;case"curtainTopLeft":height=0,width=Math.floor(A/H+ib+1),marginTop="-"+Math.floor(B/E+kb+1)+"px";break;case"curtainTopRight":height=0,width=Math.floor(A/H+ib+1),marginTop="-"+Math.floor(B/E+kb+1)+"px";break;case"curtainBottomLeft":height=0,width=Math.floor(A/H+ib+1),marginTop=Math.floor(B/E+kb+1)+"px";break;case"curtainBottomRight":height=0,width=Math.floor(A/H+ib+1),marginTop=Math.floor(B/E+kb+1)+"px";break;case"curtainSliceLeft":height=0,width=Math.floor(A/H+ib+1);if(d%2==0){marginTop=Math.floor(B/E+kb+1)+"px"}else{marginTop="-"+Math.floor(B/E+kb+1)+"px"}break;case"curtainSliceRight":height=0,width=Math.floor(A/H+ib+1);if(d%2==0){marginTop=Math.floor(B/E+kb+1)+"px"}else{marginTop="-"+Math.floor(B/E+kb+1)+"px"}break;case"blindCurtainTopLeft":height=Math.floor(B/E+kb+1),width=0,marginLeft="-"+Math.floor(A/H+ib+1)+"px";break;case"blindCurtainTopRight":height=Math.floor(B/E+kb+1),width=0,marginLeft=Math.floor(A/H+ib+1)+"px";break;case"blindCurtainBottomLeft":height=Math.floor(B/E+kb+1),width=0,marginLeft="-"+Math.floor(A/H+ib+1)+"px";break;case"blindCurtainBottomRight":height=Math.floor(B/E+kb+1),width=0,marginLeft=Math.floor(A/H+ib+1)+"px";break;case"blindCurtainSliceBottom":height=Math.floor(B/E+kb+1),width=0;if(d%2==0){marginLeft="-"+Math.floor(A/H+ib+1)+"px"}else{marginLeft=Math.floor(A/H+ib+1)+"px"}break;case"blindCurtainSliceTop":height=Math.floor(B/E+kb+1),width=0;if(d%2==0){marginLeft="-"+Math.floor(A/H+ib+1)+"px"}else{marginLeft=Math.floor(A/H+ib+1)+"px"}break;case"stampede":height=0;width=0;marginLeft=A*.2*(c%H-(H-Math.floor(H/2)))+"px";marginTop=B*.2*(Math.floor(c/H)+1-(E-Math.floor(E/2)))+"px";break;case"mosaic":height=0;width=0;break;case"mosaicReverse":height=0;width=0;marginLeft=Math.floor(A/H+ib+1)+"px";marginTop=Math.floor(B/E+kb+1)+"px";break;case"mosaicRandom":height=0;width=0;marginLeft=Math.floor(A/H+ib+1)*.5+"px";marginTop=Math.floor(B/E+kb+1)*.5+"px";break;case"mosaicSpiral":height=0;width=0;marginLeft=Math.floor(A/H+ib+1)*.5+"px";marginTop=Math.floor(B/E+kb+1)*.5+"px";break;case"mosaicSpiralReverse":height=0;width=0;marginLeft=Math.floor(A/H+ib+1)*.5+"px";marginTop=Math.floor(B/E+kb+1)*.5+"px";break;case"topLeftBottomRight":height=0;width=0;break;case"bottomRightTopLeft":height=0;width=0;marginLeft=Math.floor(A/H+ib+1)+"px";marginTop=Math.floor(B/E+kb+1)+"px";break;case"bottomLeftTopRight":height=0;width=0;marginLeft=0;marginTop=Math.floor(B/E+kb+1)+"px";break;case"topRightBottomLeft":height=0;width=0;marginLeft=Math.floor(A/H+ib+1)+"px";marginTop=0;break;case"scrollRight":height=B;width=A;marginLeft=-A;break;case"scrollLeft":height=B;width=A;marginLeft=A;break;case"scrollTop":height=B;width=A;marginTop=B;break;case"scrollBottom":height=B;width=A;marginTop=-B;break;case"scrollHorz":height=B;width=A;if(e==0&&h==I-1){marginLeft=-A}else if(e<h||e==I-1&&h==0){marginLeft=A}else{marginLeft=-A}break}var g=a(".cameraappended:eq("+d+")",r);if(typeof Q!=="undefined"){clearInterval(Q);clearTimeout(R);R=setTimeout(j,O+K)}if(a(y).length){a(".camera_pag li",m).removeClass("cameracurrent");a(".camera_pag li",m).eq(h).addClass("cameracurrent")}if(a(z).length){a("li",z).removeClass("cameracurrent");a("li",z).eq(h).addClass("cameracurrent");a("li",z).not(".cameracurrent").find("img").animate({opacity:.5},0);a("li.cameracurrent img",z).animate({opacity:1},0);a("li",z).hover(function(){a("img",this).stop(true,false).animate({opacity:1},150)},function(){if(!a(this).hasClass("cameracurrent")){a("img",this).stop(true,false).animate({opacity:.5},150)}})}var l=parseFloat(O)+parseFloat(K);if(P=="scrollLeft"||P=="scrollRight"||P=="scrollTop"||P=="scrollBottom"||P=="scrollHorz"){b.onStartTransition.call(this);l=0;g.delay((O+K)/cb*ob[c]*J*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width}).animate({height:Math.floor(B/E+kb+1),"margin-top":0,"margin-left":0,width:Math.floor(A/H+ib+1)},O-K,S,f);X.eq(e).delay((O+K)/cb*ob[c]*J*.5).animate({"margin-left":marginLeft*-1,"margin-top":marginTop*-1},O-K,S,function(){a(this).css({"margin-top":0,"margin-left":0})})}else{b.onStartTransition.call(this);l=parseFloat(O)+parseFloat(K);if(V=="next"){g.delay((O+K)/cb*ob[c]*J*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid}).animate({height:Math.floor(B/E+kb+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(A/H+ib+1)},O-K,S,f)}else{X.eq(h).show().css("z-index","999").addClass("cameracurrent");X.eq(e).css("z-index","1").removeClass("cameracurrent");a(".cameraContent",n).eq(h).addClass("cameracurrent");a(".cameraContent",n).eq(e).removeClass("cameracurrent");g.delay((O+K)/cb*ob[c]*J*.5).css({display:"block",height:Math.floor(B/E+kb+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(A/H+ib+1)}).animate({height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid},O-K,S,f)}}})}}var l={alignment:"center",autoAdvance:true,mobileAutoAdvance:true,barDirection:"leftToRight",barPosition:"bottom",cols:6,easing:"easeInOutExpo",mobileEasing:"",fx:"simpleFade",mobileFx:"",gridDifference:250,height:"auto",imagePath:"images/",hover:true,loader:"bar",loaderColor:"#d3d3d3",loaderOpacity:1,loaderPadding:0,loaderStroke:3,minHeight:"200px",navigation:true,navigationHover:true,mobileNavHover:true,opacityOnGrid:false,overlayer:true,pagination:true,playPause:false,pauseOnClick:true,pieDiameter:38,piePosition:"rightTop",portrait:false,rows:4,slicedCols:12,slicedRows:8,slideOn:"random",thumbnails:false,time:4e4,transPeriod:500,onEndTransition:function(){},onLoaded:function(){},onStartLoading:function(){},onStartTransition:function(){}};var b=a.extend({},l,b);var m=a(this).addClass("camera_wrap");m.wrapInner('<div class="camera_src" />').wrapInner('<div class="camera_fakehover" />');var n=a(".camera_fakehover",m);n.append('<div class="camera_target"></div>');if(b.overlayer==true){n.append('<div class="camera_overlayer"></div>')}n.append('<div class="camera_target_content"></div>');var o;if(b.loader=="pie"&&a.browser.msie&&a.browser.version<9){o="bar"}else{o=b.loader}if(o=="pie"){n.append('<div class="camera_pie"></div>')}else if(o=="bar"){n.append('<div class="camera_bar"></div>')}else{n.append('<div class="camera_bar" style="display:none"></div>')}if(b.playPause==true){n.append('<div class="camera_commands"></div>')}if(b.navigation==true){n.append('<div class="camera_prev"><span></span></div>').append('<div class="camera_next"><span></span></div>')}if(b.thumbnails==true){m.append('<div class="camera_thumbs_cont" />')}if(b.thumbnails==true&&b.pagination!=true){a(".camera_thumbs_cont",m).wrap("<div />").wrap('<div class="camera_thumbs" />').wrap("<div />").wrap('<div class="camera_command_wrap" />')}if(b.pagination==true){m.append('<div class="camera_pag"></div>')}m.append('<div class="camera_loader"></div>');a(".caption-type1, .caption-type2, .caption-type3, .caption-type4",m).each(function(){a(this).wrapInner("<div />")});var p="pie_"+m.index(),q=a(".camera_src",m),r=a(".camera_target",m),s=a(".camera_target_content",m),t=a(".camera_pie",m),u=a(".camera_bar",m),v=a(".camera_prev",m),w=a(".camera_next",m),x=a(".camera_commands",m),y=a(".camera_pag",m),z=a(".camera_thumbs_cont",m);var A,B;var C=new Array;a("> div",q).each(function(){C.push(a(this).attr("data-src"))});var D=new Array;a("> div",q).each(function(){if(a(this).attr("data-link")){D.push(a(this).attr("data-link"))}else{D.push("")}});var E=new Array;a("> div",q).each(function(){if(a(this).attr("data-target")){E.push(a(this).attr("data-target"))}else{E.push("")}});var F=new Array;a("> div",q).each(function(){if(a(this).attr("data-portrait")){F.push(a(this).attr("data-portrait"))}else{F.push("")}});var G=new Array;a("> div",q).each(function(){if(a(this).attr("data-alignment")){G.push(a(this).attr("data-alignment"))}else{G.push("")}});var H=new Array;a("> div",q).each(function(){if(a(this).attr("data-thumb")){H.push(a(this).attr("data-thumb"))}else{H.push("")}});var I=C.length;a(s).append('<div class="cameraContents" />');var J;for(J=0;J<I;J++){a(".cameraContents",s).append('<div class="cameraContent" />');if(D[J]!=""){var K=a("> div ",q).eq(J).attr("data-box");if(typeof K!=="undefined"&&K!==false&&K!=""){K='data-box="'+a("> div ",q).eq(J).attr("data-box")+'"'}else{K=""}a(".camera_target_content .cameraContent:eq("+J+")",m).append('<a class="camera_link" href="'+D[J]+'" '+K+' target="'+E[J]+'"></a>')}}a(".caption-type1, .caption-type2, .caption-type3, .caption-type4",m).each(function(){var b=a(this).parent().index(),c=m.find(".cameraContent").eq(b);a(this).appendTo(c)});r.append('<div class="cameraCont" />');var L=a(".cameraCont",m);var M;for(M=0;M<I;M++){L.append('<div class="cameraSlide cameraSlide_'+M+'" />');var N=a("> div:eq("+M+")",q);r.find(".cameraSlide_"+M).clone(N)}a(window).bind("load resize pageshow",function(){i();e()});L.append('<div class="cameraSlide cameraSlide_'+M+'" />');var O;m.show();var A=r.width();var B=r.height();var P;a(window).bind("resize pageshow",function(){if(O==true){f()}a("ul",z).animate({"margin-top":0},0,i);if(!q.hasClass("paused")){q.addClass("paused");if(a(".camera_stop",$).length){a(".camera_stop",$).hide();a(".camera_play",$).show();if(o!="none"){a("#"+p).hide()}}else{if(o!="none"){a("#"+p).hide()}}clearTimeout(P);P=setTimeout(function(){q.removeClass("paused");if(a(".camera_play",$).length){a(".camera_play",$).hide();a(".camera_stop",$).show();if(o!="none"){a("#"+p).fadeIn()}}else{if(o!="none"){a("#"+p).fadeIn()}}},1500)}});var Q,R;var S,T,U,x,y;var V,W;if(d()&&b.mobileAutoAdvance!=""){T=b.mobileAutoAdvance}else{T=b.autoAdvance}if(T==false){q.addClass("paused")}if(d()&&b.mobileNavHover!=""){U=b.mobileNavHover}else{U=b.navigationHover}if(q.length!=0){var X=a(".cameraSlide",r);X.wrapInner('<div class="camerarelative" />');var Y;var Z=b.barDirection;var $=m;a("iframe",n).each(function(){var b=a(this);var c=b.attr("src");b.attr("data-src",c);var d=b.parent().index(".camera_src > div");a(".camera_target_content .cameraContent:eq("+d+")",m).append(b)});function _(){a("iframe",n).each(function(){a(".caption-type1, .caption-type2, .caption-type3, .caption-type4",n).show();var c=a(this);var d=c.attr("data-src");c.attr("src",d);var e=b.imagePath+"blank.gif";var f=new Image;f.src=e;if(b.height.indexOf("%")!=-1){var g=Math.round(A/(100/parseFloat(b.height)));if(b.minHeight!=""&&g<parseFloat(b.minHeight)){B=parseFloat(b.minHeight)}else{B=g}}else if(b.height=="auto"){B=m.height()}else{B=parseFloat(b.height)}c.after(a(f).attr({"class":"imgFake",width:A,height:B}));var h=c.clone();c.remove();a(f).bind("click",function(){if(a(this).css("position")=="absolute"){a(this).remove();if(d.indexOf("vimeo")!=-1||d.indexOf("youtube")!=-1){if(d.indexOf("?")!=-1){autoplay="&autoplay=1"}else{autoplay="?autoplay=1"}}else if(d.indexOf("dailymotion")!=-1){if(d.indexOf("?")!=-1){autoplay="&autoPlay=1"}else{autoplay="?autoPlay=1"}}h.attr("src",d+autoplay);W=true}else{a(this).css({position:"absolute",top:0,left:0,zIndex:10}).after(h);h.css({position:"absolute",top:0,left:0,zIndex:9})}})})}_();if(b.hover==true){if(!d()){n.hover(function(){q.addClass("hovered")},function(){q.removeClass("hovered")})}}if(U==true){a(v,m).animate({opacity:0},0);a(w,m).animate({opacity:0},0);a(x,m).animate({opacity:0},0);if(d()){n.live("vmouseover",function(){a(v,m).animate({opacity:1},200);a(w,m).animate({opacity:1},200);a(x,m).animate({opacity:1},200)});n.live("vmouseout",function(){a(v,m).delay(500).animate({opacity:0},200);a(w,m).delay(500).animate({opacity:0},200);a(x,m).delay(500).animate({opacity:0},200)})}else{n.hover(function(){a(v,m).animate({opacity:1},200);a(w,m).animate({opacity:1},200);a(x,m).animate({opacity:1},200)},function(){a(v,m).animate({opacity:0},200);a(w,m).animate({opacity:0},200);a(x,m).animate({opacity:0},200)})}}a(".camera_stop",$).live("click",function(){T=false;q.addClass("paused");if(a(".camera_stop",$).length){a(".camera_stop",$).hide();a(".camera_play",$).show();if(o!="none"){a("#"+p).hide()}}else{if(o!="none"){a("#"+p).hide()}}});a(".camera_play",$).live("click",function(){T=true;q.removeClass("paused");if(a(".camera_play",$).length){a(".camera_play",$).hide();a(".camera_stop",$).show();if(o!="none"){a("#"+p).show()}}else{if(o!="none"){a("#"+p).show()}}});if(b.pauseOnClick==true){a(".camera_target_content",n).mouseup(function(){T=false;q.addClass("paused");a(".camera_stop",$).hide();a(".camera_play",$).show();a("#"+p).hide()})}a(".cameraContent, .imgFake",n).hover(function(){V=true},function(){V=false});a(".cameraContent, .imgFake",n).bind("click",function(){if(W==true&&V==true){T=false;a(".caption-type1, .caption-type2, .caption-type3, .caption-type4",n).hide();q.addClass("paused");a(".camera_stop",$).hide();a(".camera_play",$).show();a("#"+p).hide()}})}if(o!="pie"){u.append('<span class="camera_bar_cont" />');a(".camera_bar_cont",u).animate({opacity:b.loaderOpacity},0).css({position:"absolute",left:0,right:0,top:0,bottom:0,"background-color":b.loaderBgColor}).append('<span id="'+p+'" />');a("#"+p).animate({opacity:0},0);var ab=a("#"+p);ab.css({position:"absolute","background-color":b.loaderColor});switch(b.barPosition){case"left":u.css({right:"auto",width:b.loaderStroke});break;case"right":u.css({left:"auto",width:b.loaderStroke});break;case"top":u.css({bottom:"auto",height:b.loaderStroke});break;case"bottom":u.css({top:"auto",height:b.loaderStroke});break}switch(Z){case"leftToRight":ab.css({left:0,right:0,top:b.loaderPadding,bottom:b.loaderPadding});break;case"rightToLeft":ab.css({left:0,right:0,top:b.loaderPadding,bottom:b.loaderPadding});break;case"topToBottom":ab.css({left:b.loaderPadding,right:b.loaderPadding,top:0,bottom:0});break;case"bottomToTop":ab.css({left:b.loaderPadding,right:b.loaderPadding,top:0,bottom:0});break}}else{t.append('<canvas id="'+p+'"></canvas>');var bb;var ab=document.getElementById(p);ab.setAttribute("width",b.pieDiameter);ab.setAttribute("height",b.pieDiameter);var cb;switch(b.piePosition){case"leftTop":cb="left:0; top:0;";break;case"rightTop":cb="right:0; top:0;";break;case"leftBottom":cb="left:0; bottom:0;";break;case"rightBottom":cb="right:0; bottom:0;";break}ab.setAttribute("style","position:absolute; z-index:1002; "+cb);var db;var eb;if(ab&&ab.getContext){var fb=ab.getContext("2d");fb.rotate(Math.PI*(3/2));fb.translate(-b.pieDiameter,0)}}if(o=="none"||T==false){a("#"+p).hide();a(".camera_canvas_wrap",$).hide()}if(a(y).length){a(y).append('<ul class="camera_pag_ul" />');var gb;for(gb=0;gb<I;gb++){a(".camera_pag_ul",m).append('<li class="pag_nav_'+gb+'" style="position:relative; z-index:1002"><span><span>'+gb+"</span></span></li>")}a(".camera_pag_ul li",m).hover(function(){a(this).addClass("camera_hover");if(a(".camera_thumb",this).length){var b=a(".camera_thumb",this).outerWidth(),c=a(".camera_thumb",this).outerHeight(),d=a(this).outerWidth();a(".camera_thumb",this).show().css({top:"-"+c+"px",left:"-"+(b-d)/2+"px"}).animate({opacity:1,"margin-top":"-3px"},200);a(".thumb_arrow",this).show().animate({opacity:1,"margin-top":"-3px"},200)}},function(){a(this).removeClass("camera_hover");a(".camera_thumb",this).animate({"margin-top":"-20px",opacity:0},200,function(){a(this).css({marginTop:"5px"}).hide()});a(".thumb_arrow",this).animate({"margin-top":"-20px",opacity:0},200,function(){a(this).css({marginTop:"5px"}).hide()})})}if(a(z).length){var hb;if(!a(y).length){a(z).append("<div />");a(z).before('<div class="camera_prevThumbs hideNav"><div></div></div>').before('<div class="camera_nextThumbs hideNav"><div></div></div>');a("> div",z).append("<ul />");a.each(H,function(b,c){if(a("> div",q).eq(b).attr("data-thumb")!=""){var d=a("> div",q).eq(b).attr("data-thumb"),e=new Image;e.src=d;a("ul",z).append('<li class="pix_thumb pix_thumb_'+b+'" />');a("li.pix_thumb_"+b,z).append(a(e).attr("class","camera_thumb"))}})}else{a.each(H,function(b,c){if(a("> div",q).eq(b).attr("data-thumb")!=""){var d=a("> div",q).eq(b).attr("data-thumb"),e=new Image;e.src=d;a("li.pag_nav_"+b,y).append(a(e).attr("class","camera_thumb").css({position:"absolute"}).animate({opacity:0},0));a("li.pag_nav_"+b+" > img",y).after('<div class="thumb_arrow" />');a("li.pag_nav_"+b+" > .thumb_arrow",y).animate({opacity:0},0)}});m.css({marginBottom:a(y).outerHeight()})}}else if(!a(z).length&&a(y).length){m.css({marginBottom:a(y).outerHeight()})}var ib=true;if(a(x).length){a(x).append('<div class="camera_play"></div>').append('<div class="camera_stop"></div>');if(T==true){a(".camera_play",$).hide();a(".camera_stop",$).show()}else{a(".camera_stop",$).hide();a(".camera_play",$).show()}}j();a(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",n).each(function(){a(this).css("visibility","hidden")});b.onStartLoading.call(this);k();if(a(v).length){a(v).click(function(){if(!q.hasClass("camerasliding")){var c=parseFloat(a(".cameraSlide.cameracurrent",r).index());clearInterval(Q);_();a("#"+p+", .camera_canvas_wrap",m).animate({opacity:0},0);j();if(c!=0){k(c)}else{k(I)}b.onStartLoading.call(this)}})}if(a(w).length){a(w).click(function(){if(!q.hasClass("camerasliding")){var c=parseFloat(a(".cameraSlide.cameracurrent",r).index());clearInterval(Q);_();a("#"+p+", .camera_canvas_wrap",$).animate({opacity:0},0);j();if(c==I-1){k(1)}else{k(c+2)}b.onStartLoading.call(this)}})}if(d()){n.bind("swipeleft",function(c){if(!q.hasClass("camerasliding")){var d=parseFloat(a(".cameraSlide.cameracurrent",r).index());clearInterval(Q);_();a("#"+p+", .camera_canvas_wrap",$).animate({opacity:0},0);j();if(d==I-1){k(1)}else{k(d+2)}b.onStartLoading.call(this)}});n.bind("swiperight",function(c){if(!q.hasClass("camerasliding")){var d=parseFloat(a(".cameraSlide.cameracurrent",r).index());clearInterval(Q);_();a("#"+p+", .camera_canvas_wrap",$).animate({opacity:0},0);j();if(d!=0){k(d)}else{k(I)}b.onStartLoading.call(this)}})}if(a(y).length){a(".camera_pag li",m).click(function(){if(!q.hasClass("camerasliding")){var c=parseFloat(a(this).index());var d=parseFloat(a(".cameraSlide.cameracurrent",r).index());if(c!=d){clearInterval(Q);_();a("#"+p+", .camera_canvas_wrap",$).animate({opacity:0},0);j();k(c+1);b.onStartLoading.call(this)}}})}if(a(z).length){a(".pix_thumb img",z).click(function(){if(!q.hasClass("camerasliding")){var c=parseFloat(a(this).parents("li").index());var d=parseFloat(a(".cameracurrent",r).index());if(c!=d){clearInterval(Q);_();a("#"+p+", .camera_canvas_wrap",$).animate({opacity:0},0);a(".pix_thumb",z).removeClass("cameracurrent");a(this).parents("li").addClass("cameracurrent");j();k(c+1);i();b.onStartLoading.call(this)}}});a(".camera_thumbs_cont .camera_prevThumbs",$).hover(function(){a(this).stop(true,false).animate({opacity:1},250)},function(){a(this).stop(true,false).animate({opacity:.7},250)});a(".camera_prevThumbs",$).click(function(){var b=0,c=a(z).outerWidth(),d=a("ul",z).offset().left,f=a("> div",z).offset().left,g=f-d;a(".camera_visThumb",z).each(function(){var c=a(this).outerWidth();b=b+c});if(g-b>0){a("ul",z).animate({"margin-left":"-"+(g-b)+"px"},500,e)}else{a("ul",z).animate({"margin-left":0},500,e)}});a(".camera_thumbs_cont .camera_nextThumbs",$).hover(function(){a(this).stop(true,false).animate({opacity:1},250)},function(){a(this).stop(true,false).animate({opacity:.7},250)});a(".camera_nextThumbs",$).click(function(){var b=0,c=a(z).outerWidth(),d=a("ul",z).outerWidth(),f=a("ul",z).offset().left,g=a("> div",z).offset().left,h=g-f;a(".camera_visThumb",z).each(function(){var c=a(this).outerWidth();b=b+c});if(h+b+b<d){a("ul",z).animate({"margin-left":"-"+(h+b)+"px"},500,e)}else{a("ul",z).animate({"margin-left":"-"+(d-c)+"px"},500,e)}})}}})(jQuery);(function(a){a.fn.cameraStop=function(){var b=a(this),c=a(".camera_src",b),d="pie_"+b.index();c.addClass("stopped");if(a(".camera_showcommands").length){var e=a(".camera_thumbs_wrap",b)}else{var e=b}}})(jQuery);(function(a){a.fn.cameraPause=function(){var b=a(this);var c=a(".camera_src",b);c.addClass("paused")}})(jQuery);(function(a){a.fn.cameraResume=function(){var b=a(this);var c=a(".camera_src",b);if(typeof autoAdv==="undefined"||autoAdv!==true){c.removeClass("paused")}}})(jQuery)